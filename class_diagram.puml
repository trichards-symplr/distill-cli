@startuml

class Opt {
  - input_audio_file: String
  - output_type: OutputType
  - summary_file_name: String
  - language_code: String
  - delete_s3_object: String
}

enum OutputType {
  Terminal
  Text
  Word
  Markdown
  Slack
}

class Main {
  - load_config(region: Option<Region>): SdkConfig
  - list_buckets(client: &Client): Result<Vec<String>>
  - bucket_region(client: &Client, bucket_name: &str): Result<Region>
  + main(): Result<()>
}

class Transcribe {
  + transcribe_audio(config: &SdkConfig, file_path: &Path, s3_uri: &str, spinner: &mut Spinner, language_code: &str): Result<String>
}

class Summarize {
  + summarize_text(config: &SdkConfig, text: &str, spinner: &mut Spinner): Result<String>
}

class FileHandler {
  - create_word_doc(summary: String, transcription: String)
  - create_text_file(summary: String, transcription: String)
  - create_markdown(summary: String, transcription: String)
}

class S3Client {
  - bucket_name: String
  - region: Region
  + upload_file(file_path: Path)
  + delete_object(key: String)
}

Main --> Opt : uses
Main --> OutputType : uses
Main --> Transcribe : uses
Main --> Summarize : uses
Main --> S3Client : uses
Main --> FileHandler : uses
Opt *-- OutputType : contains

@enduml
